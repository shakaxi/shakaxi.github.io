#+title: Summary of Matrix Relevant Operation

As the titile indicates, this post is written to summarize the operations relating to matrices.

* Vectorization
$\forall \mathbf{A} \in \mathbb{C}^{p \times n}$, $\mathbf{B} \in \mathbb{C}^{n \times m}$, $\mathbf{C} \in \mathbb{C}^{m \times q}$,
\begin{align}
  \text{vec}(\mathbf{ABC}) = (\mathbf{C}^T \otimes \mathbf{A}) \text{vec}(\mathbf{B}). \label{eq:vect}
\end{align}
Particularly,
- By setting $\mathbf{A} = \mathbf{I}_n$ and $\mathbf{C} = \mathbf{I}_m$ respectively, \eqnref{eq:vect} becomes
\begin{align*}
  \text{vec}(\mathbf{BC}) &= (\mathbf{C}^T \otimes \mathbf{I}_n) \text{vec}(\mathbf{B}), \\
  \text{vec}(\mathbf{AB}) &= (\mathbf{I}_m \otimes \mathbf{A}) \text{vec}(\mathbf{B}).
\end{align*}
- If $\mathbf{B} = \text{diag}(\mathbf{b})$ is a diagonal matrix ($m = n$), $\mathbf{b} \in \mathbb{C}^n$, \eqnref{eq:vect} becomes
  \begin{align*}
    \text{vec}(\mathbf{ABC}) = (\mathbf{C}^T \odot \mathbf{A})\mathbf{b},
  \end{align*}
  where $\odot$ is the [[*Khatri-Rao product][Khatri-Rao product]] operator.
* Khatri-Rao product
$\forall \mathbf{A} = \begin{bmatrix} \mathbf{a}_1 & \mathbf{a}_2 & \cdots &\mathbf{a}_k \end{bmatrix} \in \mathbb{C}^{n \times k}$ and $\mathbf{B} = \begin{bmatrix} \mathbf{b}_1 & \mathbf{b}_2 & \cdots & \mathbf{b}_k \end{bmatrix} \in \mathbb{C}^{m \times k}$, their Khatri-Rao product can be denoted by
\begin{align*}
  \mathbf{A} \odot \mathbf{B} = \begin{bmatrix}
      \mathbf{a}_1 \otimes \mathbf{b}_1 & \mathbf{a}_2 \otimes \mathbf{b}_2 & \cdots & \mathbf{a}_k \otimes \mathbf{b}_k
\end{bmatrix} \in \mathbb{C}^{mn \times k},
\end{align*}
where $\mathbf{a}_i \otimes \mathbf{b}_i = \text{vec}\left(\mathbf{b}_i \mathbf{a}_i^T\right) \in \mathbb{C}^{nm}$, $\mathbf{a}_i \in \mathbb{C}^n$, $\mathbf{b}_i \in \mathbb{C}^m$, $i = 1, 2, \ldots, k$.
