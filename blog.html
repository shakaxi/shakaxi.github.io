<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2023-01-28 Sat 01:49 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Blog on GitHub</title>
<meta name="author" content="shaka" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="default.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Blog on GitHub</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgb514d0b">Preparation</a>
<ul>
<li><a href="#org43f911d">Softwares</a></li>
<li><a href="#org426567e">Account on GitHub</a></li>
</ul>
</li>
<li><a href="#org809d8fa">Configuration</a>
<ul>
<li><a href="#org37fe1b2">Emacs and Orgmode</a></li>
<li><a href="#org4eb9105">GitHub</a></li>
<li><a href="#org0aa27b4">Initialization</a></li>
</ul>
</li>
<li><a href="#orgc71a938">Publish a new post</a></li>
</ul>
</div>
</div>
<p>
It has been quite a long time for me not to write and publish blog since Google blogspot and WordPress were blocked. Recently, I have built a new blog site on <a href="https://github.com">GitHub</a>. This post is just written to summarize the procedure.
</p>

<div id="outline-container-orgb514d0b" class="outline-2">
<h2 id="orgb514d0b">Preparation</h2>
<div class="outline-text-2" id="text-orgb514d0b">
</div>
<div id="outline-container-org43f911d" class="outline-3">
<h3 id="org43f911d">Softwares</h3>
<div class="outline-text-3" id="text-org43f911d">
<p>
Above all, you should have <a href="http://www.gnu.org/software/emacs/">Emacs</a> and <a href="http://orgmode.org/">Orgmode</a> installed. Taking ArchLinux for instance, Emacs can be installed as follows
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S emacs
</pre>
</div>
<p>
The installation of Orgmode can be avoided since it has been already included as a built-in plugin.
</p>

<p>
In order to freely exchange data with GitHub, <code>git</code> is needed. Also taking ArchLinux for example, the installation can be performed by
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S git
</pre>
</div>
</div>
</div>
<div id="outline-container-org426567e" class="outline-3">
<h3 id="org426567e">Account on GitHub</h3>
<div class="outline-text-3" id="text-org426567e">
<p>
Of course, an account on GitHub is also indispensable. If you do not have an account, you have to sign up on <a href="http://github.com">http://github.com</a>. According to the description of <a href="https://pages.github.com/">GitHub Pages</a>, if your account is <code>USERNAME</code>, your blog site can be accessed via <a href="http://username.github.io">http://username.github.io</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-org809d8fa" class="outline-2">
<h2 id="org809d8fa">Configuration</h2>
<div class="outline-text-2" id="text-org809d8fa">
</div>
<div id="outline-container-org37fe1b2" class="outline-3">
<h3 id="org37fe1b2">Emacs and Orgmode</h3>
<div class="outline-text-3" id="text-org37fe1b2">
<p>
First, you should create a fold to store your data of your blog site, e.g. <code>~/blog</code>.
</p>

<p>
In order to publish your webpages, i.e. html files, you should configure your Emacs. The <code>~/.emacs</code> should look like
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr"> 1: </span>...
<span class="linenr"> 2: </span>(require 'ox-publish)
<span class="linenr"> 3: </span>(setq org-publish-project-alist
<span class="linenr"> 4: </span>      '(
<span class="linenr"> 5: </span>        ("org"
<span class="linenr"> 6: </span>        :base-directory "~/blog/org"
<span class="linenr"> 7: </span>        :publishing-directory "~/blog/html"
<span class="linenr"> 8: </span>        :recursive t
<span class="linenr"> 9: </span>        :publishing-function org-html-publish-to-html
<span class="linenr">10: </span>        :headline-levels 6
<span class="linenr">11: </span>        :section-numbers nil
<span class="linenr">12: </span>        :auto-sitemap t
<span class="linenr">13: </span>        :sitemap-filename "index.org"
<span class="linenr">14: </span>        :sitemap-title "Blog Site"
<span class="linenr">15: </span>        :sitemap-style "list"
<span class="linenr">16: </span>        :sitemap-sort-folders "first"
<span class="linenr">17: </span>        :author "AUTHOR"
<span class="linenr">18: </span>        :email "NAME@email"
<span class="linenr">19: </span>        :html-head "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"default.css\"/&gt;"
<span class="linenr">20: </span>        :html-postamble nil
<span class="linenr">21: </span>        )
<span class="linenr">22: </span>        ("attachment"
<span class="linenr">23: </span>         :base-directory "~/blog/org"
<span class="linenr">24: </span>         :base-extension "css\\|js\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf"
<span class="linenr">25: </span>         :publishing-directory "~/blog/html"
<span class="linenr">26: </span>         :recursive t
<span class="linenr">27: </span>         :publishing-function org-publish-attachment
<span class="linenr">28: </span>         )
<span class="linenr">29: </span>        ("blog" :components ("org" "attachment"))
<span class="linenr">30: </span>        ))
<span class="linenr">31: </span>...
</pre>
</div>
</div>
</div>
<div id="outline-container-org4eb9105" class="outline-3">
<h3 id="org4eb9105">GitHub</h3>
<div class="outline-text-3" id="text-org4eb9105">
<p>
Sign in GitHub with your account, and create a repository. What deserves notice, the repository used to store your posts <i>must</i> be named <code>USERNAME.github.io</code>. Otherwise, your blog site cannot be accessed via <code>http://USERNAME.github.io</code>.
</p>

<p>
The repository can be accessed via a variety of protocols, e.g. <code>git</code>, <code>SSH</code>. Without loss of generality, taking <a href="./ssh.html">SSH</a> for instance, you should generate your ssh key pair by
</p>
<div class="org-src-container">
<pre class="src src-sh">ssh-keygen -t rsa
</pre>
</div>
<p>
and paste your public key to the <code>SSH key</code> tab in the setting. After this, you can access your repository via git client.
</p>

<p>
In fact, you can only push the published html webpages to GitHub. Pushing the org source files is not necessary. However, we push both org source files and published webpages to GitHub, but in different branches. The published webpages are stored in <code>master</code> branch, while the org source files are stored in <code>org</code> branch.
</p>
</div>
</div>
<div id="outline-container-org0aa27b4" class="outline-3">
<h3 id="org0aa27b4">Initialization</h3>
<div class="outline-text-3" id="text-org0aa27b4">
<p>
Enter the local directory, e.g. <code>~/blog</code> and clone the both branches.
</p>
<div class="org-src-container">
<pre class="src src-sh">cd ~/blog
git clone -b master git@github.com:USERNAME/USERNAME.github.io html
git clone -b org git@github.com:USERNAME/USERNAME.github.io org
</pre>
</div>
<p>
For sake of publishing beautiful webpages, you can customize your css and drop it in the source subfolder, e.g. <code>~/blog/org/default.css</code>.
</p>
</div>
</div>
</div>
<div id="outline-container-orgc71a938" class="outline-2">
<h2 id="orgc71a938">Publish a new post</h2>
<div class="outline-text-2" id="text-orgc71a938">
<ul class="org-ul">
<li>Create and edit an org file, e.g. <code>~/blog/org/newpost.org</code>.</li>
<li>Generate the corresponding webpage to html folder<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, e.g. <code>~/blog/html/newpost.html</code>.</li>
<li>Push to GitHub.</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">cd ~/blog/org
git commit -am "A new blog post"
git push origin org
cd ~/blog/html
git commit -am "A new blog post"
git push origin master
</pre>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
The command is <code>M-x org-publish</code>. Fill the project name, e.g. <code>blog</code>, when asked for input.
</p></div></div>


</div>
</div></div>
</body>
</html>