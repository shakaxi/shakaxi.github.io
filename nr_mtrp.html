<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2020-01-21 Tue 23:59 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NR - Multi-TRP Transmission</title>
<meta name="generator" content="Org mode">
<meta name="author" content="shaka">
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="default.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">NR - Multi-TRP Transmission</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc627596">Introduction</a></li>
<li><a href="#org9649589">System model</a></li>
<li><a href="#orgd8a2ee7">Capacity</a>
<ul>
<li><a href="#orgeb6fd10">Eigen beamforming</a></li>
<li><a href="#mpue">Multi-panel UE</a></li>
</ul>
</li>
<li><a href="#orgc5d3ade">CSI acquisition</a>
<ul>
<li><a href="#org8cd0bfd">CSI in CoMP</a></li>
<li><a href="#org836d7a9">SINR prediction</a></li>
<li><a href="#org7dd4d90">CSI for NCJT</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgc627596" class="outline-2">
<h2 id="orgc627596">Introduction</h2>
<div class="outline-text-2" id="text-orgc627596">
<p>
Recently, multi-TRP transmission is one of the most remarkable features of NR and consequently the focus of discussion in the standardization of 3GPP, since it is able to efficiently improve the reliability or the efficiency of the transmission.
</p>

<p>
This document tries to provide an in-depth analysis and reveal the rationale behind the technology.
</p>

<p>
For clear description, following denotation conventions have been adopted throughout the document. Scalars, vectors, and matrices are respectively denoted by plain, lower-case boldfaced, and upper-case boldfaced letters. For a complex scalar, \((\cdot)^{*}\) means its conjugate, and \(|\cdot|\) gets its absolute value. Given a matrix \(\mathbf{A}\), \(\mathbf{A}^H\) is its conjugate transposition, and \(|\mathbf{A}|\) returns its determinant. Particularly, \(\mathbf{I}\) stands for the entity matrix. \(\mathbb{C}^{m \times n}\) represents the complex space of dimension \(m \times n\). \(\mathcal{E}(\cdot)\) is the expectation operator.
</p>
</div>
</div>
<div id="outline-container-org9649589" class="outline-2">
<h2 id="org9649589">System model</h2>
<div class="outline-text-2" id="text-org9649589">
<p>
Without loss of generality, we consider such a simple 2-TRP non-coherent joint transmission (NCJT) scenario that a UE receives two PDSCH's from TRP-1 and TRP-2 simutaneously, as shown in the figure below. Each TRP is equipped with \(n_t\) antennas, while the UE has \(n_r\) antennas. For clear description, the downlink channel, precoding matrix, and the transmitted signal from TRP-\(i\), are denoted by \(\mathbf{H}_i \in \mathbb{C}^{n_r \times n_t}\), \(\mathbf{W}_i \in \mathbb{C}^{n_t \times r_i}\), and \(\mathbf{x}_i \in \mathbb{C}^{r_i \times 1}\) respectively, where \(r_i\) is the number of layers of the PDSCH transmitted from TRP-\(i\), \(i = 1, 2\).
</p>

<div class="figure">
<p><img src="mtrp-sys-mod.png" alt="mtrp-sys-mod.png" width="800px">
</p>
<p><span class="figure-number">Figure 1: </span>System model</p>
</div>

<p>
Then, the received signal can be written as
</p>
\begin{align*}
  \mathbf{y} &= \mathbf{H}_1 \mathbf{W}_1 \mathbf{x}_1 + \mathbf{H}_2 \mathbf{W}_2 \mathbf{x}_2 + \mathbf{n} \\
             &= \begin{bmatrix} \mathbf{H}_1 & \mathbf{H}_2\end{bmatrix} \begin{bmatrix} \mathbf{W}_1 & \\ & \mathbf{W}_2 \end{bmatrix} \begin{bmatrix}\mathbf{x}_1 \\ \mathbf{x}_2\end{bmatrix} + \mathbf{n}
\end{align*}
<p>
where \(\mathbf{n} \in \mathbb{C}^{n_r \times 1}\) is zero mean cyclic symmetrical complex Gaussian (ZMCSCG) distributed noise plus the inter-TRP interference outside TRP-1 and TRP-2, \(\mathbf{n} \sim \mathcal{CN}(0, \sigma_n^2 \mathbf{I})\).
</p>
</div>
</div>

<div id="outline-container-orgd8a2ee7" class="outline-2">
<h2 id="orgd8a2ee7">Capacity</h2>
<div class="outline-text-2" id="text-orgd8a2ee7">
<p>
For simplicity sake, taking equal power allocation (EPA) for each TRP for instance, i.e., \(\mathcal{E}(\mathbf{x}_i \mathbf{x}_i^H) = \dfrac{P}{r_i} \mathbf{I}\), \(i = 1, 2\), where \(P\) is the total transmit power for each TRP. Then, the Shannon capacity can be expressed as
</p>
\begin{align}
  \mathcal{C} = \log_2\left|\mathbf{I} + \frac{P}{r_1\sigma_n^2} \mathbf{H}_1 \mathbf{W}_1 \mathbf{W}_1^H \mathbf{H}_1^H + \frac{P}{r_2\sigma_n^2} \mathbf{H}_2 \mathbf{W}_2 \mathbf{W}_2^H \mathbf{H}_2^H\right|. \label{eq:cap}
\end{align}
</div>

<div id="outline-container-orgeb6fd10" class="outline-3">
<h3 id="orgeb6fd10">Eigen beamforming</h3>
<div class="outline-text-3" id="text-orgeb6fd10">
<p>
Suppose \(\mathbf{H}_i\) can be singular value decomposed (SVD) as
</p>
\begin{align*}
  \mathbf{H}_i = \mathbf{U}_i \mathbf{\Sigma}_i \mathbf{V}_i^H,
\end{align*}
<p>
where
</p>
\begin{align*}
  \mathbf{\Sigma}_i = \begin{bmatrix}
    \sigma_{i,1}&&&&&&\\
    &\sigma_{i,2}&&&&&\\
    && \ddots &&&&\\
    &&& \sigma_{i,r_i} &&&\\
    &&&& 0 &&\\
    &&&&& \ddots &\\
    &&&&&& 0 \\
  \end{bmatrix}, \quad i = 1, 2.
\end{align*}

<p>
For eigen beamforming (EBF), i.e., \(\mathbf{W}_i = \mathbf{V}_i\), \(i = 1, 2\). The capacity in (\ref{eq:cap}) can be further written as
</p>
\begin{align*}
  \mathcal{C}_\text{ebf} &= \log_2\left|\mathbf{I} + \frac{P}{r_1\sigma_n^2} \mathbf{U}_1 \mathbf{\Sigma}_1^2 \mathbf{U}_1^H + \frac{P}{r_2\sigma_n^2} \mathbf{U}_2 \mathbf{\Sigma}_2^2 \mathbf{U}_2^H\right| \\
  &= \log_2\left|\mathbf{I} + \frac{P}{r_1\sigma_n^2} \mathbf{U}_2^H \mathbf{U}_1 \mathbf{\Sigma}_1^2 \mathbf{U}_1^H \mathbf{U_2} + \frac{P}{r_2\sigma_n^2} \mathbf{\Sigma}_2^2 \right| \\
  &= \log_2\left|\mathbf{I} + \frac{P}{r_1\sigma_n^2} \mathbf{\Sigma}_1^2 + \frac{P}{r_2\sigma_n^2} \mathbf{U}_1^H \mathbf{U}_2 \mathbf{\Sigma}_2^2 \mathbf{U}_2^H \mathbf{U}_1 \right|.
\end{align*}
<p>
Clearly, an upper-bound of the capacity for EBF can be achieved if and only if \(\mathbf{U}_1 = \mathbf{U}_2\).
</p>
\begin{align}
\label{eq:cap-ebf-ub}
\mathcal{C}_\text{ebf}^\text{ub} = \sum_{k=1}^{n_r}\log_2\left(1 + \frac{P\sigma_{1,k}^2}{r_1\sigma_n^2} + \frac{P\sigma_{2,k}^2}{r_2\sigma_n^2}\right)
\end{align}
</div>
</div>

<div id="outline-container-org7a9ee46" class="outline-3">
<h3 id="mpue">Multi-panel UE</h3>
<div class="outline-text-3" id="text-mpue">
<p>
In NR systems, esp. the ones operating on million meter wave (mmWave) bands, a large number of antennas, a.k.a. <i>large-scale MIMO</i> or <i>massive MIMO</i>, have to be equipped at each transmitter and receiver to compensate the severe attenuation in the propagation. In this sense, massive MIMO is indispensable since it can efficiently extend the transmission distance and enhance the coverage of mmWave.
</p>

<p>
Given a UE, a panel with multiple antenna elements can only transmit and receive signals in one or more dedicated directions, rather than all directions. Therefore, a UE is usually equipped with a multiplicity of antenna panels with different orientations, e.g., typically 2 back-to-back antenna panels, or 4 antenna panels with orientation difference between two adjacent panels equal to \(\pi/2\). Accordingly, a UE equipped with multiple antenna panels is termed as a multi-panel UE (MPUE).
</p>

<p>
Provided a UE, who can benefit enough from a multi-TRP transmission, an antenna panel always receives signals with different intensities from different TRP's which are geographically separated. Taking a MPUE with 2 back-to-back antenna panels for instance, if a panel can receive strong signal from a TRP, then the received signal at another panel is extremely weak. For a typical case, a multi-TRP transmission UE receives different signals from different TRP by different antenna panels with different orientations. In this case, the channel matrices can be rewritten as
</p>
\begin{align}
\mathbf{H}_1 &=
  \begin{bmatrix}
    \overline{\mathbf{H}}_1 \\ \mathbf{O}
  \end{bmatrix} \label{eq:h1} \\
\mathbf{H}_2 &=
  \begin{bmatrix}
    \mathbf{O} \\ \overline{\mathbf{H}}_2
  \end{bmatrix}, \label{eq:h2}
\end{align}
<p>
where \(\overline{\mathbf{H}}_i\) is the major part of \(\mathbf{H}_i\), \(i = 1, 2\), which cannot be ignored, while \(\mathbf{O}\) is the minor part with each element approximating zero and consequently can be disregarded. Then, substituting (\ref{eq:h1}) and (\ref{eq:h2}) into (\ref{eq:cap}), the capacity can be approximated by
</p>
\begin{align}
  \mathcal{C}_\text{mp} \approx \log_2\left| \mathbf{I} + \frac{P}{r_1\sigma_n^2} \overline{\mathbf{H}}_1 \mathbf{W}_1 \mathbf{W}_1^H \overline{\mathbf{H}}_1^H \right| + \log_2\left| \mathbf{I} + \frac{P}{r_2\sigma_n^2} \overline{\mathbf{H}}_2 \mathbf{W}_2 \mathbf{W}_2^H \overline{\mathbf{H}}_2^H \right|.
  \label{eq:cap-multi-panel}
\end{align}
<p>
In this case, EBF, i.e., \(\mathbf{W}_i = \mathbf{V}_i, i = 1, 2\), is the optimal beamforming strategy. Accordingly, the capacity becomes
</p>
\begin{align*}
  \mathcal{C}_\text{mp}^\text{ub} = \sum_{i=1}^2 \sum_{j=1}^{r_i} \log_2\left(1 + \frac{P\sigma_{i,j}^2}{r_i \sigma_n^2}\right).
\end{align*}
</div>
</div>
</div>

<div id="outline-container-orgc5d3ade" class="outline-2">
<h2 id="orgc5d3ade">CSI acquisition</h2>
<div class="outline-text-2" id="text-orgc5d3ade">
<p>
In light of information theory, CSI plays an extremely important role in an end-to-end transmission. CSI at the receiver side, which can be obtained based on the DMRS-based channel estimation, enables coherent detection which remarkably outperforms non-coherent equalization. From a capacity maximization perspective, that is not enough and CSI at the transmitter side is also essential. To this end, a UE is expected to report CSI to the transmitter to facilitate it to better match the channel. Usually, a CSI covers both spatial-domain information and channel quality related indication, targetting antenna gain maximization and efficient link adaptation, respectively.
</p>

<p>
On one hand, the spatial information can be a PMI out of a predefined codebook, or a reciprocity-based CDI, etc. The spatial information, however, is always obtained via the channel estimation based on NZP CSI-RS. On the other hand, channel quality can be depicted by a CQI, which depends on the intensity of the signal and the strength of the interference plus noise.
</p>
</div>
<div id="outline-container-org8cd0bfd" class="outline-3">
<h3 id="org8cd0bfd">CSI in CoMP</h3>
<div class="outline-text-3" id="text-org8cd0bfd">
<p>
In CoMP, the spatial information can be categorized as two types, per-cell and cross-cell information. The former is exactly the same as that for the single-cell transmission; while the latter is introduced only for coherent joint transmission.
</p>

<p>
In order to accommodate the various interference hypotheses, different channel qualities need to be considered accordingly. Channel estimation is performed based on the signal measurement resource (SMR), i.e., NZP CSI-RS. Concerning the interference measurement, the schemes can be divided into two categories, ZP CSI-RS-based and NZP CSI-RS-based.
</p>

<p>
ZP CSI-RS-based interference measurement is the final scheme adopted by the specification due to its simplicity, precision, and intuitionality. For each interference hypothesis, a SMR and ZP CSI-RS, a.k.a., interference measurement resource (IMR) are configured and linked together by a CSI process. Given a CoMP UE, the received signal on the IMR is the desired interference corresponding to an interference hypothesis.
</p>

<p>
Different from the ZP CSI-RS-based scheme, NZP CSI-RS-based interference measurement usually requires channel estimation based on the indicated NZP CSI-RS. After that, the signal part, which can be approximated by the estimated channel matrix and the corresponding NZP CSI-RS, is removed from the received signal. Then, the remaining part is the desired interference.
</p>

<p>
Alternatively, by making full use of the coherence and correlationship between the channel fadings on two adjacent RE's, NZP CSI-RS-based interference measurement can be performed without channel estimation. Suppose single-port NZP CSI-RS are transmitted on two adjacent RE's, the received signals can be expressed as
</p>
\begin{align*}
  \mathbf{y}_i = \mathbf{H}_i
  \begin{bmatrix}
    X_i \\ \mathbf{o}
  \end{bmatrix} + \mathbf{n}_i, \quad i = 1, 2;
\end{align*}
<p>
where \(\mathbf{H}_i\), \(X_i\), \(\mathbf{n}_i\) are the channel matrix, the NZP CSI-RS symbol, and the interference plus noise to be measured on the $i$th RE, \(|X_i| = 1\), \(i = 1, 2\); \(\mathbf{o}\) is a column vector with all the elements equal to 0.
</p>

<p>
Then, the power of the interference can be obtained by
</p>
\begin{align*}
  P_\text{interference} &= \frac{1}{2} |\mathbf{y}_1 X_1^{*} - \mathbf{y}_2 X_2^{*}|^2 \\
                        &= \frac{1}{2} \left|\mathbf{H}_1[:, 1] |X_1|^2 - \mathbf{H}_2[:, 1] |X_2|^2 + \mathbf{n}_1X_1^{*} - \mathbf{n}_2X_2^{*}\right|^2 \\
                        &\approx \frac{1}{2} \left|\mathbf{n}_1X_1^{*} - \mathbf{n}_2X_2^{*}\right|^2 \\
  &= |\mathbf{n}_i|^2, \quad i = 1, 2.
\end{align*}
</div>
</div>

<div id="outline-container-org836d7a9" class="outline-3">
<h3 id="org836d7a9">SINR prediction</h3>
<div class="outline-text-3" id="text-org836d7a9">
<p>
At the stage of scheduling, a gNB has to predict the achievable SINR based on the reported CSI for two reasons. On one hand, a UE is completely unaware of the potential paired UE for MU-MIMO transmission in the future, but has to calculate CSI based on SU-MIMO. On the other hand, the precoded inter-cell interference (ICI) in the actual transmission is remarkably different from that on the occasion of CSI reporting.
</p>

<p>
Clearly, a precise prediction of ICI is extremely important due to its significant weight and impact to the achievable SINR. An over-estimated SINR will produce an aggressive MCS and transmission error occurs, while an under-estimated SINR will yield a too conservative MCS and spectral inefficiency.
</p>

<p>
Due to the stochastic scheduling decision of each cell, the precoded ICI varies and fluctuates drastically, especially for the stronger ones nearby. Therefore, the precoded ICI ought to be forseen at the stage of scheduling rather than on the CSI reporting occasion. In multi-TRP transmission, the per-cell scheduling decision can be shared and exchanged among the belonging cooperating set in time. In this case, a precoded ICI can be forecasted accurately before the scheduling decision.
</p>

<p>
Again, taking the scenario in the figure above for example, the UE reports CSI for DPS transmission. In the computing of per-cell CQI relating to TRP-1, the interference from TRP-2 should not be taken into account. At the time of scheduling, TRP-1 could accurately foresee the ICI from TRP-2 based on its scheduling decision shared via the backhaul.
</p>
</div>
</div>

<div id="outline-container-org7dd4d90" class="outline-3">
<h3 id="org7dd4d90">CSI for NCJT</h3>
<div class="outline-text-3" id="text-org7dd4d90">
<p>
According to the analysis of MPUE in section <a href="#mpue">Multi-panel UE</a>, a MPUE can be identified as a potential NCJT UE, if following prerequisites can be met.
</p>
<ol class="org-ol">
<li>There are two TRP's from whom the received signal corresponding to the best panel pair and beam pair (e.g., RSRP) are close, e.g., the gap smaller than a predefined threshold.</li>
<li>For each TRP, the received signal at different panels are differentiated and polarized seriously.</li>
<li>The antenna panels corresponding to the strongest received signal from different TRP's are different.</li>
</ol>
<p>
In this case, a 2-TRP NCJT to a MPUE can be decoupled as 2 separate interference-free single-TRP transmissions. Accordingly, the per-TRP PMI and per-TRP CQI can be reported as CSI payload.
</p>

<p>
In fact, the preconditions for NCJT UE identification are fairly strict. Nevertheless, the UE's satisfying the conditions are the ones who benefit most from NCJT. The performance gain depends on the ratio of the NCJT UE's and the occurance of NCJT. For performance evaluation and verification purpose, a system level simulation is needed.
</p>
</div>
</div>
</div>
</div>
</body>
</html>
